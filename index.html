<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="styles.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	<title>palabrovich</title>
</head>
<body>
	<section class="container centradov">
		<div class="row justify-content-md-center">
			<div class="col-md-12 general">
				<h1>Wordarism</h1>
				</div>
			<div class="col-md-auto general">
			

				<input id="busq"class="form-control form-control-lg" type="search" placeholder="Enter word" aria-label=".form-control-lg example">
				<button class="btn btn-m" id="buscar" onclick="getInputValue();">Buscar</button>
			</div>
			</div>
		</div>
		<div class="container-fluid" id="resultados"></div>
		<div class="col-md-12 botonera">
		<button class="btn btn-m" id="btnsin" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample1" aria-expanded="false" aria-controls="collapseExample1" style="display: none;">
    	Synonyms
  		</button>
  		<button class="btn btn-m list" id="btndef" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample2" aria-expanded="false" aria-controls="collapseExample2"style="display: none;">
		    Definitions
		</button>
		<button class="btn btn-m list" id="btnsimilar" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample3" aria-expanded="false" aria-controls="collapseExample3"style="display: none;">
		    Similar To
		</button>
		<button class="btn btn-m list" id="btnfrq" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExamplef" aria-expanded="false" aria-controls="collapseExamplef"style="display: none;">
		Frequencies
		</button>
		<button class="btn btn-m list" id="btnprn" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExampleP" aria-expanded="false" aria-controls="collapseExampleP"style="display: none;">
    	Pronunciation
  		</button>
  		</div>
  		<div class="container-fluid" id="resultados">
		<div id="accordionExample" class="general">
		
	  		<div class="collapse" id="collapseExample1" data-bs-parent="#accordionExample">
	  		<div class="card card-body" id="bodycollapseS"></div>
			</div>

		
			<div class="collapse" id="collapseExample2" data-bs-parent="#accordionExample">
		    <div class="card card-body" id="bodycollapseD"></div>
		    </div>

		
			<div class="collapse" id="collapseExample3" data-bs-parent="#accordionExample">
			<div class="card card-body" id="bodycollapseSimilar"></div>
			</div>

		
			<div class="collapse" id="collapseExamplef" data-bs-parent="#accordionExample">
			<div class="card card-body" id="bodycollapseFrq"></div>
			</div>

		
  			<div class="collapse" id="collapseExampleP" data-bs-parent="#accordionExample">
  			<div class="card card-body" id="bodycollapseP"></div>
			</div>

	</div>
	</div>
</div>
	</section>
	<script>

		

		function getInputValue() {

        var inputVal = document.getElementById("busq").value;
        var botonBuscar = document.getElementById("buscar");
        var resultadosBusqueda = document.getElementById("resultados");
        while(resultadosBusqueda.firstChild){
    		div.removeChild(div.firstChild);
			}
    	var word = inputVal;
    	var url = 'https://wordsapiv1.p.rapidapi.com/words/';

        var requestOptions = {
        "method": "GET",
		"headers": {
		"x-rapidapi-host": "wordsapiv1.p.rapidapi.com",
		"x-rapidapi-key": "4e61e33d53msh61ae79a6b483bc1p1e4899jsnfc43309615e3"

        }
    }

    fetch(url + word + '/synonyms' , requestOptions).then(response => response.json())
    .then(response => {
				const padre = document.getElementById('bodycollapseS');
				if(response.synonyms.length>0){
				document.getElementById('btnsin').style.display = "";
				for(sinonimos of response.synonyms){
					const modelo = document.createElement('li');
					modelo.classList.add("card-body")
					modelo.textContent = sinonimos
					padre.appendChild(modelo)
				}
			}
			})
	.catch(err => {
	console.error(err);
	});

	fetch(url + word + '/definitions' , requestOptions).then(response => response.json())
    .then(response => {
				const padre = document.getElementById('bodycollapseD');
				if(response.definitions.length>0){
				document.getElementById('btndef').style.display = "";
				const title = document.createElement('h6');
				title.textContent = "Definitions"
				padre.appendChild(title)
				console.log(response)
				for(definiciones of response.definitions){
					const modelo = document.createElement('li');
					modelo.classList.add("card-body")
					modelo.textContent = definiciones.definition
					padre.appendChild(modelo)
				}
			}
			})
	.catch(err => {
	console.error(err);
	})

	fetch(url + word + '/pronunciation' , requestOptions).then(response => response.json())
    .then(response => {
				const padre = document.getElementById('bodycollapseP');
				if(response.pronunciation){
				document.getElementById('btnprn').style.display = "";
				const title = document.createElement('h4');
				title.textContent = "Pronunciation"
				padre.appendChild(title)
				console.log(response)
				if(response.pronunciation.all){
				const prona = response.pronunciation.all
				const modeloa = document.createElement('h2');
				modeloa.classList.add("card-body")
				modeloa.textContent = prona
				padre.appendChild(modeloa)
				} else {
					const prona = response.pronunciation
					const modeloa = document.createElement('h2');
					modeloa.classList.add("card-body")
					modeloa.textContent = prona
					padre.appendChild(modeloa)
				}
				if(response.pronunciation.verb){
				const pronv = "verb: " + response.pronunciation.verb
				const modelo = document.createElement('h2');
				modelo.classList.add("card-body")
				modelo.textContent = pronv
				padre.appendChild(modelo)
				}
				if(response.pronunciation.noun){
				const pronn = "noun: " + response.pronunciation.noun
				const modelon = document.createElement('h2');
				modelon.classList.add("card-body")
				modelon.textContent = pronn
				padre.appendChild(modelon)
				}
				}
			})
	.catch(err => {
	console.error(err);
	})

	fetch(url + word + '/similarTo' , requestOptions).then(response => response.json())
    .then(response => {
				const padre = document.getElementById('bodycollapseSimilar');
				if(response.similarTo.length>0){
				document.getElementById('btnsimilar').style.display = "";
				const title = document.createElement('h6');
				title.textContent = "Similar To"
				padre.appendChild(title)
				console.log(response)
				for(similares of response.similarTo){
					const modelo = document.createElement('li');
					modelo.classList.add("card-body")
					modelo.textContent = similares
					padre.appendChild(modelo)
				}
			}
			})
	.catch(err => {
	console.error(err);
	})
	fetch(url + word + '/frequency' , requestOptions).then(response => response.json())
    .then(response => {
				const padre = document.getElementById('bodycollapseFrq');
				
				document.getElementById('btnfrq').style.display = "";
				const title = document.createElement('h6');
				title.textContent = "Frequency"
				padre.appendChild(title)
				console.log(response)
				if(response.frequency.zipf){
					const zipf = "zipf: " + response.frequency.zipf
					const modelo = document.createElement('a');
					modelo.classList.add("card-body")
					modelo.textContent = zipf
					modelo.setAttribute("data-bs-toggle","tooltip")
					modelo.setAttribute("data-bs-placement", "top")
					modelo.setAttribute("title", "A score indicating how common the word is in the English language, with a range of 1 to 7")
					padre.appendChild(modelo)
				}
				if(response.frequency.perMillion){
					const pM = "perMillion: " + response.frequency.perMillion
					const modelo = document.createElement('li');
					modelo.classList.add("card-body")
					modelo.textContent = pM
					padre.appendChild(modelo)
				}
				if(response.frequency.diversity){
					const div = "diversity: " + response.frequency.diversity
					const modelo = document.createElement('li');
					modelo.classList.add("card-body")
					modelo.textContent = div
					padre.appendChild(modelo)
				}

			})
	.catch(err => {
	console.error(err);
	})
}	
	

</script>
	
</body>
</html>